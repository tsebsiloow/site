<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼ï¼ˆå¤šè¨˜å·å¯¾å¿œï¼‰</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f3f4f6;
      text-align: center;
      padding: 40px;
    }
    h1 {
      color: #333;
    }
    textarea {
      width: 80%;
      height: 120px;
      font-size: 1.2em;
      margin: 20px 0;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      padding: 10px 25px;
      font-size: 1.1em;
      border: none;
      border-radius: 6px;
      background-color: #4caf50;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #43a047;
    }
    #result {
      margin-top: 25px;
      font-size: 1.5em;
      color: #222;
    }
  </style>
</head>
<body>
  <h1>ğŸ”  ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼</h1>
  <p>ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼š <code>ãƒ»ï¼ ãƒ»ï¼ãƒ»ãƒ» ï¼ï¼ï¼</code> ï¼‰</p>
  <textarea id="morseInput" placeholder="ãƒ»ï¼ ãƒ»ï¼ãƒ»ãƒ» ï¼ï¼ï¼"></textarea><br>
  <button onclick="decodeMorse()">è§£èª­ã™ã‚‹</button>
  <div id="result"></div>

  <script>
    const morseTable = {
      ".-": "A", "-...": "B", "-.-.": "C", "-..": "D",
      ".": "E", "..-.": "F", "--.": "G", "....": "H",
      "..": "I", ".---": "J", "-.-": "K", ".-..": "L",
      "--": "M", "-.": "N", "---": "O", ".--.": "P",
      "--.-": "Q", ".-.": "R", "...": "S", "-": "T",
      "..-": "U", "...-": "V", ".--": "W", "-..-": "X",
      "-.--": "Y", "--..": "Z",
      "-----": "0", ".----": "1", "..---": "2", "...--": "3",
      "....-": "4", ".....": "5", "-....": "6", "--...": "7",
      "---..": "8", "----.": "9",
      ".-.-.-": ".", "--..--": ",", "..--..": "?", "-.-.--": "!",
      "-....-": "-", "-..-.": "/", ".--.-.": "@", "-.--.": "(", "-.--.-": ")"
    };

    function normalizeMorseInput(input) {
      // å…¨è§’ã‚¹ãƒ©ãƒƒã‚·ãƒ¥å¯¾å¿œã‚„ç‚¹ç·šã®ç½®æ›
      return input
        .replace(/ãƒ»/g, ".")    // å…¨è§’ç‚¹ â†’ .
        .replace(/[ï¼¿_\-ï¼/]/g, "-") // ç·šã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ â†’ -
        .replace(/\s+/g, " ")   // ä½™åˆ†ãªç©ºç™½ã‚’æ•´å½¢
        .trim();
    }

    function decodeMorse() {
      let input = document.getElementById("morseInput").value;
      if (!input) {
        document.getElementById("result").innerText = "ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚";
        return;
      }

      // å…¥åŠ›ã‚’æ­£è¦åŒ–
      input = normalizeMorseInput(input);

      // å˜èªã‚’åŒºåˆ‡ã‚‹ï¼ˆ"/" ã¾ãŸã¯ " / " ã‚„ "   "ï¼‰
      const words = input.split(" / ").map(word =>
        word.split(" ").map(symbol => morseTable[symbol] || "?").join("")
      );

      const result = words.join(" ");
      document.getElementById("result").innerText = "çµæœ: " + result;
    }
  </script>
</body>
</html>
